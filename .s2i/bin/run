#!/bin/bash
set -eo pipefail

# Dummy run script. Seems that for some reason, if we just copy the script in, it's not picked up at runtime.
# If we have this here, then use it to call the module run script, everything works.

S2I_SOURCE_DIR="/tmp/src"

if [ x"$MODULE_DIR" != "x" ]; then

   echo "Custom run script configured. Using this instead of the default."
   $S2I_SOURCE_DIR/$MODULE_DIR/.s2i/bin/run

else

   echo "Using default run script"
   exec $S2I_SCRIPT_DIR/run

fi
